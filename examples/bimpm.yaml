name: new-bimpm

features:
  tokens:
    indexer:
      type: single_id
    embedder:
      type: embedding
      #pretrained_file: https://allennlp.s3.amazonaws.com/datasets/glove/glove.840B.300d.txt.gz
      embedding_dim: 100
      #trainable: false
      padding_index: 0
  token_characters:
    indexer:
      type: characters
    embedder:
      type: character_encoding
      embedding:
        embedding_dim: 20
        padding_index: 0
      encoder:
        type: gru
        input_size: 20
        hidden_size: 50
        num_layers: 1
        bidirectional: true


head:
  type: BiMpm

  labels:
    - "yes"
    - "no"
    - "maybe"

  matcher_word:
    is_forward: true
    hidden_dim: 200
    num_perspectives: 10
    with_full_match: false

  encoder1:
    type: lstm
    bidirectional: true
    input_size: 200
    hidden_size: 100
    num_layers: 1

  matcher_forward1:
    is_forward: true
    hidden_dim: 100
    num_perspectives: 10

  matcher_backward1:
    is_forward: false
    hidden_dim: 100
    num_perspectives: 10

  encoder2:
    type: lstm
    bidirectional: true
    input_size: 200
    hidden_size: 100
    num_layers: 1

  matcher_forward2:
    is_forward: true
    hidden_dim: 100
    num_perspectives: 10

  matcher_backward2:
    is_forward: false
    hidden_dim: 100
    num_perspectives: 10

  aggregator:
    type: lstm
    bidirectional: true
    input_size: 264
    hidden_size: 100
    num_layers: 2
    dropout: 0.1

  classifier_feedforward:
    input_dim: 400
    num_layers: 2
    hidden_dims:
    - 100
    - 2
    activations:
    - relu
    - linear
    dropout:
    - 0.1
    - 0

  dropout: 0.1