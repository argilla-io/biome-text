(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{374:function(s,e,t){"use strict";t.r(e);var a=t(33),n=Object(a.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"biome-text-api-new-modules-heads-defs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#biome-text-api-new-modules-heads-defs"}},[s._v("#")]),s._v(" biome.text.api_new.modules.heads.defs "),t("Badge",{attrs:{text:"Module"}})],1),s._v(" "),t("dl",[t("h2",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskOutput"}},[s._v("TaskOutput "),t("Badge",{attrs:{text:"Class"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[s._v("    "),t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("class")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("TaskOutput")]),s._v(" ("),s._v("\n    "),t("span",[s._v("logits: torch.Tensor")]),t("span",[s._v(",")]),s._v("\n    "),t("span",[s._v("probs: torch.Tensor")]),t("span",[s._v(",")]),s._v("\n    "),t("span",[s._v("loss: Union[torch.Tensor, NoneType] = None")]),t("span",[s._v(",")]),s._v("\n    "),t("span",[s._v("**extra_data")]),t("span",[s._v(",")]),s._v("\n"),t("span",[s._v(")")]),s._v("\n    ")])])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Task output data class")]),s._v(" "),t("p",[s._v("A task output will contains almost the logits and probs properties")])]),s._v(" "),t("dl",[t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskOutput.as_dict"}},[s._v("as_dict "),t("Badge",{attrs:{text:"Method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("as_dict")]),s._v("("),t("span",[s._v("self) -> Dict[str, torch.Tensor]")]),s._v("\n")]),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Dict reprentation of task output")])])])])]),s._v(" "),t("h2",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskName"}},[s._v("TaskName "),t("Badge",{attrs:{text:"Class"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[s._v("    "),t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("class")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("TaskName")]),s._v(" ("),s._v("\n    "),t("span",[s._v("value")]),t("span",[s._v(",")]),s._v("\n    "),t("span",[s._v("names=None")]),t("span",[s._v(",")]),s._v("\n    "),t("span",[s._v("*")]),t("span",[s._v(",")]),s._v("\n    "),t("span",[s._v("module=None")]),t("span",[s._v(",")]),s._v("\n    "),t("span",[s._v("qualname=None")]),t("span",[s._v(",")]),s._v("\n    "),t("span",[s._v("type=None")]),t("span",[s._v(",")]),s._v("\n    "),t("span",[s._v("start=1")]),t("span",[s._v(",")]),s._v("\n"),t("span",[s._v(")")]),s._v("\n    ")])])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("The task name enum structure")])]),s._v(" "),t("h3",[s._v("Ancestors")]),s._v(" "),t("ul",{staticClass:"hlist"},[t("li",[s._v("enum.Enum")])]),s._v(" "),t("h3",[s._v("Class variables")]),s._v(" "),t("dl",[t("dt",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskName.none"}},[t("code",{staticClass:"name"},[s._v("var "),t("span",{staticClass:"ident"},[s._v("none")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"})]),s._v(" "),t("dt",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskName.text_classification"}},[t("code",{staticClass:"name"},[s._v("var "),t("span",{staticClass:"ident"},[s._v("text_classification")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"})]),s._v(" "),t("dt",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskName.token_classification"}},[t("code",{staticClass:"name"},[s._v("var "),t("span",{staticClass:"ident"},[s._v("token_classification")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"})]),s._v(" "),t("dt",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskName.language_modelling"}},[t("code",{staticClass:"name"},[s._v("var "),t("span",{staticClass:"ident"},[s._v("language_modelling")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"})])])]),s._v(" "),t("h2",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead"}},[s._v("TaskHead "),t("Badge",{attrs:{text:"Class"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[s._v("    "),t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("class")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("TaskHead")]),s._v(" (model: "),t("a",{attrs:{title:"biome.text.api_new.model.Model",href:"../../model.html#biome.text.api_new.model.Model"}},[s._v("Model")]),s._v(")"),s._v("\n    ")])])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Base task head class")]),s._v(" "),t("p",[s._v("Initializes internal Module state, shared by both nn.Module and ScriptModule.")])]),s._v(" "),t("h3",[s._v("Ancestors")]),s._v(" "),t("ul",{staticClass:"hlist"},[t("li",[s._v("torch.nn.modules.module.Module")]),s._v(" "),t("li",[s._v("allennlp.common.registrable.Registrable")]),s._v(" "),t("li",[s._v("allennlp.common.from_params.FromParams")])]),s._v(" "),t("h3",[s._v("Subclasses")]),s._v(" "),t("ul",{staticClass:"hlist"},[t("li",[t("a",{attrs:{title:"biome.text.api_new.modules.heads.classification.defs.ClassificationHead",href:"classification/defs.html#biome.text.api_new.modules.heads.classification.defs.ClassificationHead"}},[s._v("ClassificationHead")])]),s._v(" "),t("li",[t("a",{attrs:{title:"biome.text.api_new.modules.heads.language_modelling.LanguageModelling",href:"language_modelling.html#biome.text.api_new.modules.heads.language_modelling.LanguageModelling"}},[s._v("LanguageModelling")])]),s._v(" "),t("li",[t("a",{attrs:{title:"biome.text.api_new.modules.heads.token_classification.TokenClassification",href:"token_classification.html#biome.text.api_new.modules.heads.token_classification.TokenClassification"}},[s._v("TokenClassification")])])]),s._v(" "),t("dl",[t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.register"}},[s._v("register "),t("Badge",{attrs:{text:"Static method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("register")]),s._v(" ("),s._v("\n   overrides: bool = False,\n   **kwargs,\n) \n")]),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Enables the task head component for pipeline loading")])])])]),s._v(" "),t("h3",[s._v("Instance variables")]),s._v(" "),t("dl",[t("dt",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.labels"}},[t("code",{staticClass:"name"},[s._v("var "),t("span",{staticClass:"ident"},[s._v("labels")]),s._v(" : List[str]")])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("The configured vocab labels")])])]),s._v(" "),t("dt",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.num_labels"}},[t("code",{staticClass:"name"},[s._v("var "),t("span",{staticClass:"ident"},[s._v("num_labels")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("The number of vocab labels")])])])]),s._v(" "),t("dl",[t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.extend_labels"}},[s._v("extend_labels "),t("Badge",{attrs:{text:"Method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("extend_labels")]),s._v(" ("),s._v("\n   self,\n   labels: List[str],\n) \n")]),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Extends the number of labels")])])]),s._v(" "),t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.task_name"}},[s._v("task_name "),t("Badge",{attrs:{text:"Method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("task_name")]),s._v("("),t("span",[s._v("self) -> "),t("a",{attrs:{title:"biome.text.api_new.modules.heads.defs.TaskName",href:"#biome.text.api_new.modules.heads.defs.TaskName"}},[s._v("TaskName")])]),s._v("\n")]),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("The task head name")])])]),s._v(" "),t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.inputs"}},[s._v("inputs "),t("Badge",{attrs:{text:"Method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("inputs")]),s._v("("),t("span",[s._v("self) -> Union[List[str], NoneType]")]),s._v("\n")]),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("The expected inputs names for data featuring. If no defined,\nwill be automatically calculated from featurize signature")])])]),s._v(" "),t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.forward"}},[s._v("forward "),t("Badge",{attrs:{text:"Method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("forward")]),s._v(" ("),s._v("\n   self,\n   *args: Any,\n   **kwargs: Any,\n)  -> "),t("a",{attrs:{title:"biome.text.api_new.modules.heads.defs.TaskOutput",href:"#biome.text.api_new.modules.heads.defs.TaskOutput"}},[s._v("TaskOutput")]),s._v("\n")]),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Defines the computation performed at every call.")]),s._v(" "),t("p",[s._v("Should be overridden by all subclasses.")]),s._v(" "),t("div",{staticClass:"admonition note"},[t("p",{staticClass:"admonition-title"},[s._v("Note")]),s._v(" "),t("p",[s._v("Although the recipe for forward pass needs to be defined within\nthis function, one should call the :class:"),t("code",[s._v("Module")]),s._v(" instance afterwards\ninstead of this since the former takes care of running the\nregistered hooks while the latter silently ignores them.")])])])]),s._v(" "),t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.get_metrics"}},[s._v("get_metrics "),t("Badge",{attrs:{text:"Method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("get_metrics")]),s._v(" ("),s._v("\n   self,\n   reset: bool = False,\n)  -> Dict[str, float]\n")]),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Metrics dictionary for training task")])])]),s._v(" "),t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.featurize"}},[s._v("featurize "),t("Badge",{attrs:{text:"Method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("featurize")]),s._v(" ("),s._v("\n   self,\n   *args,\n   **kwargs,\n)  -> Union[allennlp.data.instance.Instance, NoneType]\n")]),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Converts incoming data into an allennlp "),t("code",[s._v("Instance")]),s._v(", used for pyTorch tensors generation")])])]),s._v(" "),t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.process_output"}},[s._v("process_output "),t("Badge",{attrs:{text:"Method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("process_output")]),s._v(" ("),s._v("\n   self,\n   output: "),t("a",{attrs:{title:"biome.text.api_new.modules.heads.defs.TaskOutput",href:"#biome.text.api_new.modules.heads.defs.TaskOutput"}},[s._v("TaskOutput")]),s._v(",\n)  -> "),t("a",{attrs:{title:"biome.text.api_new.modules.heads.defs.TaskOutput",href:"#biome.text.api_new.modules.heads.defs.TaskOutput"}},[s._v("TaskOutput")]),s._v("\n")]),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Build extra parameters over basic task output")])])]),s._v(" "),t("h3",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHead.prediction_explain"}},[s._v("prediction_explain "),t("Badge",{attrs:{text:"Method"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("def")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("prediction_explain")]),s._v(" ("),s._v("\n   self,\n   prediction: Dict[str, "),t("built-in",{attrs:{function:"",array:""}},[s._v("],\n   instance: allennlp.data.instance.Instance,\n)  -> Dict[str, Any]\n")])],1),s._v("\n        ")])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Adds embedding explanations information to prediction output")])])])])]),s._v(" "),t("h2",{attrs:{id:"biome.text.api_new.modules.heads.defs.TaskHeadSpec"}},[s._v("TaskHeadSpec "),t("Badge",{attrs:{text:"Class"}})],1),s._v(" "),t("dt",[t("div",{staticClass:"language-python extra-class"},[t("pre",{staticClass:"language-python"},[s._v("    "),t("code",[s._v("\n"),t("span",{staticClass:"token keyword"},[s._v("class")]),s._v(" "),t("span",{staticClass:"ident"},[s._v("TaskHeadSpec")]),s._v(" (*args, **kwds)"),s._v("\n    ")])])])]),s._v(" "),t("dd",[t("div",{staticClass:"desc"},[t("p",[s._v("Layer spec for TaskHead components")])]),s._v(" "),t("h3",[s._v("Ancestors")]),s._v(" "),t("ul",{staticClass:"hlist"},[t("li",[t("a",{attrs:{title:"biome.text.api_new.modules.specs.defs.ComponentSpec",href:"../specs/defs.html#biome.text.api_new.modules.specs.defs.ComponentSpec"}},[s._v("ComponentSpec")])]),s._v(" "),t("li",[s._v("typing.Generic")]),s._v(" "),t("li",[s._v("allennlp.common.from_params.FromParams")])]),s._v(" "),t("h3",[s._v("Inherited members")]),s._v(" "),t("ul",{staticClass:"hlist"},[t("li",[t("code",[t("b",[t("a",{attrs:{title:"biome.text.api_new.modules.specs.defs.ComponentSpec",href:"../specs/defs.html#biome.text.api_new.modules.specs.defs.ComponentSpec"}},[s._v("ComponentSpec")])])]),s._v(":\n"),t("ul",{staticClass:"hlist"},[t("li",[t("code",[t("a",{attrs:{title:"biome.text.api_new.modules.specs.defs.ComponentSpec.compile",href:"../specs/defs.html#biome.text.api_new.modules.specs.defs.ComponentSpec.compile"}},[s._v("compile")])])]),s._v(" "),t("li",[t("code",[t("a",{attrs:{title:"biome.text.api_new.modules.specs.defs.ComponentSpec.config",href:"../specs/defs.html#biome.text.api_new.modules.specs.defs.ComponentSpec.config"}},[s._v("config")])])]),s._v(" "),t("li",[t("code",[t("a",{attrs:{title:"biome.text.api_new.modules.specs.defs.ComponentSpec.from_params",href:"../specs/defs.html#biome.text.api_new.modules.specs.defs.ComponentSpec.from_params"}},[s._v("from_params")])])]),s._v(" "),t("li",[t("code",[t("a",{attrs:{title:"biome.text.api_new.modules.specs.defs.ComponentSpec.input_dim",href:"../specs/defs.html#biome.text.api_new.modules.specs.defs.ComponentSpec.input_dim"}},[s._v("input_dim")])])])])])])])])])}),[],!1,null,null,null);e.default=n.exports}}]);